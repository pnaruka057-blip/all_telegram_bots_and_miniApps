<section class="mx-auto w-full max-w-2xl px-4 py-6">
    <!-- HERO -->
    <%- include('../partials/header') %>

        <header
            class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900">
            <div class="flex flex-wrap items-center gap-4">
                <img class="h-16 w-16 rounded-full object-cover ring-2 ring-slate-200 shadow-sm dark:ring-slate-700"
                    src="https://res.cloudinary.com/dm8miilli/image/upload/t_fdfsd/v1767181841/Untitled_design_bildro.png"
                    alt="Group Help Advance" loading="lazy" />

                <div class="min-w-[220px] flex-1">
                    <h1 class="text-lg font-semibold text-slate-900 dark:text-slate-100">Group Help Advance</h1>

                    <p class="mt-1 text-sm leading-6 text-slate-600 dark:text-slate-300">
                        Create Telegram-ready messages & inline button layouts quickly using built-in design tools.
                    </p>

                    <div class="mt-2 flex flex-wrap gap-x-4 gap-y-2 text-sm">
                        <a class="text-blue-600 hover:underline dark:text-blue-400"
                            href="/<%= token %>/group-help-advance/privacy-policy">
                            Privacy Policy
                        </a>
                    </div>
                </div>
            </div>

            <div class="mt-4 flex flex-col gap-2 sm:flex-row sm:flex-wrap">
                <a class="inline-flex items-center justify-center rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 active:scale-[0.99]"
                    href="/<%= token %>/group-help-advance/html_message_design">
                    Message Design (No Placeholders)
                </a>

                <a class="inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 active:scale-[0.99]
                  dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100 dark:hover:bg-slate-900"
                    href="/<%= token %>/group-help-advance/html_message_design?placeholders=true">
                    Message Design (With Placeholders)
                </a>

                <a class="inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50 active:scale-[0.99]
                  dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100 dark:hover:bg-slate-900"
                    href="/<%= token %>/group-help-advance/buttons-design">
                    Button Design
                </a>
            </div>
        </header>

        <main class="mt-5 grid grid-cols-1 gap-4 sm:grid-cols-2">
            <article
                class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900">
                <h2 class="text-sm font-semibold text-slate-900 dark:text-slate-100">Message Design</h2>
                <p class="mt-1 text-sm leading-6 text-slate-600 dark:text-slate-300">
                    Build Telegram HTML messages (bold, italic, links, code, etc.) and preview before using in your bot
                    settings.
                </p>
                <div class="mt-3">
                    <a class="inline-flex items-center justify-center rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700"
                        href="/<%= token %>/group-help-advance/html_message_design">
                        Open Designer
                    </a>
                </div>
            </article>

            <article
                class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900">
                <h2 class="text-sm font-semibold text-slate-900 dark:text-slate-100">Placeholders</h2>
                <p class="mt-1 text-sm leading-6 text-slate-600 dark:text-slate-300">
                    Create messages with placeholders (like user name, group title, IDs, etc.) for dynamic text in
                    welcome/rules.
                </p>
                <div class="mt-3">
                    <a class="inline-flex items-center justify-center rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700"
                        href="/<%= token %>/group-help-advance/html_message_design?placeholders=true">
                        Open With Placeholders
                    </a>
                </div>
            </article>

            <article
                class="rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900 sm:col-span-2">
                <h2 class="text-sm font-semibold text-slate-900 dark:text-slate-100">Button Design</h2>
                <p class="mt-1 text-sm leading-6 text-slate-600 dark:text-slate-300">
                    Generate inline keyboard layouts (rows/columns) and copy the final button syntax for your bot
                    configuration.
                </p>
                <div class="mt-3">
                    <a class="inline-flex items-center justify-center rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700"
                        href="/<%= token %>/group-help-advance/buttons-design">
                        Open Button Builder
                    </a>
                </div>
            </article>
        </main>

        <%- include('../partials/footer') %>
</section>

<script>
    (function () {
        const root = document.documentElement;
        const tg = window.Telegram && window.Telegram.WebApp ? window.Telegram.WebApp : null;

        function numCssVar(name) {
            const v = getComputedStyle(root).getPropertyValue(name);
            const n = parseFloat(v);
            return Number.isFinite(n) ? n : 0;
        }

        function setSafeVars() {
            let top = 0;
            let bottom = 0;

            // Prefer Telegram provided insets (new clients)
            try {
                top = tg?.safeAreaInset?.top ?? 0;
                bottom = tg?.safeAreaInset?.bottom ?? 0;
            } catch (e) { }

            // Fallback to Telegram CSS vars if present
            if (!top) top = numCssVar('--tg-safe-area-inset-top');
            if (!bottom) bottom = numCssVar('--tg-safe-area-inset-bottom');

            // Last fallback for iOS-like devices if everything is 0
            if (!top && /iPhone|iPad|iPod/i.test(navigator.userAgent)) top = 24;

            root.style.setProperty('--app-safe-top', top + 'px');
            root.style.setProperty('--app-safe-bottom', bottom + 'px');
        }

        setSafeVars();

        // Keep it updated when Telegram reports changes
        try { tg?.onEvent?.('safeAreaChanged', setSafeVars); } catch (e) { }
        try { tg?.onEvent?.('safe_area_changed', setSafeVars); } catch (e) { } // some wrappers emit snake_case [web:203][web:128]

        // Optional: set header/background color so status bar icons look correct in fullscreen [page:1]
        try {
            if (tg?.setHeaderColor && tg?.colorScheme) {
                tg.setHeaderColor(tg.colorScheme === 'dark' ? '#020617' : '#f8fafc');
            }
            if (tg?.setBackgroundColor && tg?.colorScheme) {
                tg.setBackgroundColor(tg.colorScheme === 'dark' ? '#020617' : '#f8fafc');
            }
        } catch (e) { }
    })();

    try {
        const tg = window.Telegram?.WebApp;
        tg.BackButton.hide();
    } catch (e) {
        console.error("CloseButton init error:", e);
    }
</script>